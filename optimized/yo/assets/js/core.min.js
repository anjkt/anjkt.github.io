!function($){"use strict";var $html=$("html"),$body=$("body"),$content=$("#content"),$footer=$("#footer"),$nav=$("#navigation"),$navHorizontal=$nav.find(".nav-primary-horizontal"),$navToggle=$("#navigation-toggle"),$pageLoader=$("#page-loader"),$calendar=$("#calendar-component"),pageScrolling=!!$body.hasClass("page-scrolling"),pageSliding=!!$body.hasClass("page-sliding"),navHorizontal=!!$nav.hasClass("navigation-horizontal"),navVertical=!!$nav.hasClass("navigation-vertical"),navPanel=!!$nav.hasClass("navigation-panel"),trueMobile,defaultCalendarView,Core={init:function(){this.Basic.init(),this.Component.init()},Basic:{init:function(){this.systemDetector(),this.animations($body),this.backgrounds($body),this.typing(),this.Navigation.init(),this.filter(),this.masonry(),this.mouseParallax(),pageScrolling&&this.footer(),pageSliding&&this.sliding()},animations:function(a){$(".animated:not(img)",a).appear(function(){$(this).each(function(){var a=$(this),b=a.data("animation-delay");setTimeout(function(){a.addClass(a.data("animation")).addClass("visible")},b)})}),a.imagesLoaded().progress(function(a,b){var c=$(b.img);c.hasClass("animated")&&c.appear(function(){var a=c.data("animation-delay");setTimeout(function(){c.addClass(c.data("animation")).addClass("visible")},a)})})},backgrounds:function(a){var b=$(".bg-image-container",a);b.length&&b.each(function(){var a=$(this).children("img").attr("src"),b=$(this);b.css("background-image","url("+a+")").children("img").hide(),b.imagesLoaded({background:!0},function(a,c){b.addClass("loaded")})});var c=$(".bg-slideshow",a);c.length&&c.slick({dots:!1,arrows:!1,fade:!0,speed:3e3,autoplay:!0,autoplaySpeed:3e3,pauseOnHover:!1});var d=$(".bg-video");d.length&&(d.YTPlayer(),trueMobile&&(d.next(".bg-video-placeholder").show(),d.remove()))},filter:function(){var a,b,c=$(".filter"),d=$(".filter-isotope");d.length&&(d.each(function(){a=$($(this).data("filter-list")),a.hasClass("masonry")?a.isotope({itemSelector:".masonry-item",percentPosition:!0,masonry:{columnWidth:".masonry-sizer"}}):a.isotope(),a.imagesLoaded().progress(function(){a.isotope("layout")})}),d.on("click","a",function(){return a=$($(this).parents(".filter-isotope").data("filter-list")),b=$(this).attr("data-filter"),a.isotope({filter:b}),a.on("layoutComplete",function(a,b){pageScrolling?Waypoint.refreshAll():pageSliding&&$.fn.fullpage.reBuild()}),$(this).parents("ul").find(".active").removeClass("active"),$(this).addClass("active"),!1})),c.length&&c.on("click","a",function(){return a=$($(this).parents(".filter").data("filter-list")),b=$(this).attr("data-filter"),a.children().filter(".not-matched").removeClass("not-matched"),"*"!=b&&a.children().not(b).addClass("not-matched"),$(this).parents("ul").find(".active").removeClass("active"),$(this).addClass("active"),!1})},footer:function(){$body.css("padding-bottom",$footer.outerHeight()+"px")},masonry:function(){var a=$(".masonry","#content");a.length&&(a.masonry({columnWidth:".masonry-sizer",itemSelector:".masonry-item",percentPosition:!0}),a.imagesLoaded().progress(function(){a.masonry("layout")}),a.on("layoutComplete",Waypoint.refreshAll()))},mouseParallax:function(){var a=$(".mouse-parallax","#content");a.length&&a.on("mousemove",function(a){var b=$(this).find(".mouse-parallax-item"),c=a.clientX,d=a.clientY;b.each(function(){var a=$(this),b=a.data("parallax-speed"),e=c/b,f=d/b;1==a.data("parallax-reverse")&&(e=-e,f=-f),a.hasClass("bg-image-container")?a.css({"background-position":"calc(50% - "+e+"px) calc(50% - "+f+"px"}):a.hasClass("lines-container")?a.css({transform:"translateX("+e+"px)"}):a.css({transform:"translateX("+e+"px) translateY("+f+"px)"})})})},systemDetector:function(){var a={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return a.Android()||a.BlackBerry()||a.iOS()||a.Opera()||a.Windows()}};trueMobile=a.any()},sliding:function(){var a=[];$content.children(".section").each(function(){var b=$(this).data("anchor");void 0!==b&&a.push(b)}),$content.fullpage({anchors:a,scrollOverflow:!0,slideSelector:".inner-slide",scrollBar:!1,navigation:!0,scrollingSpeed:550,menu:"#navigation",recordHistory:!1,normalScrollElements:"#navigation, .window, .ajax-modal-inner",onLeave:function(a,b){Core.Basic.setSectionScheme($content.find(".section").eq(b-1))}})},Navigation:{init:function(){var a,b=$nav.height(),c=$(".section","#content"),b=$nav.height();if(navHorizontal&&(a=$nav.find(".nav-primary-horizontal")),pageScrolling){var d=$("#navigation, [data-local-scroll]");d.find("a").on("click",function(){$(this).blur()}),d.localScroll({offset:0,duration:700});var e=$nav.find("a"),f=function(a){e.each(function(){var b=$(this).attr("href");a==b?$(this).addClass("active"):$(this).removeClass("active")}),Core.Basic.Navigation.hideNav()};c.waypoint({handler:function(a){if("up"==a){var b="#"+this.element.id;f(b),Core.Basic.setSectionScheme($(this.element))}},offset:function(){return navHorizontal?-this.element.clientHeight+b:-this.element.clientHeight}}),c.waypoint({handler:function(a){if("down"==a){var b="#"+this.element.id;f(b),Core.Basic.setSectionScheme($(this.element))}},offset:function(){return navHorizontal?b:0}})}$navToggle.on("click",function(){return $(this).toggleClass("open"),navHorizontal?a.toggleClass("show"):($nav.toggleClass("show"),$body.toggleClass("navigation-open")),!1})},hideNav:function(){$nav.removeClass("show"),$navToggle.removeClass("open"),$body.removeClass("navigation-open"),navHorizontal&&$navHorizontal.removeClass("show")}},typing:function(){$(".typing").appear(function(){$(this).each(function(){var a=$(this),b=[a.html()];a.parent().css({"min-height":a.outerHeight()+"px","min-width":a.outerWidth()+"px"}),a.html(""),a.typed({strings:b,startDelay:200,typeSpeed:15,contentType:"html",preStringTyped:function(){a.addClass("start")},callback:function(){setTimeout(function(){a.siblings(".show-after-typing").addClass("show")},250)}})})})},setSectionScheme:function(a){"light"===a.data("scheme")?$body.removeClass("dark-scheme").addClass("light-scheme"):"dark"===a.data("scheme")&&$body.removeClass("light-scheme").addClass("dark-scheme")}},Component:{init:function(){this.ajaxModal(),this.accordion(),this.calendar(),this.carousel($body),this.chart($body),this.contactMap(),this.forms(),this.map(),this.window(),this.modal($body),this.points()},ajaxModal:function(){function a(a){f.load(a,function(b,g){if("success"==g){var h=$(this),i=h.find("#content");i.attr("id","ajax-content"),$pageLoader.fadeIn(300),$body.addClass("ajax-modal-open"),c.show(0).addClass("loading-started").addClass(i.data("scheme")),Core.Basic.backgrounds(h),Core.Component.carousel(h),Core.Component.chart(h),Core.Component.modal(h),$(".animated",h).appear(function(){$(this).each(function(){var a=$(this),b=a.data("animation-delay");setTimeout(function(){a.addClass(a.data("animation")).addClass("visible")},b)})}),h.imagesLoaded(function(){e.html(i),setTimeout(function(){$html.addClass("locked-scrolling"),e.fadeIn(300),c.addClass("loading-finished"),f.html(""),d.addClass("visible"),$pageLoader.fadeOut(300)},800)})}else console.log("There is no such file / element: "+a)})}function b(){$html.removeClass("locked-scrolling"),$body.removeClass("ajax-modal-open"),d.removeClass("visible"),c.fadeOut(200,function(){$(this).removeClass("loading-started loading-finished"),e.hide(0)})}$body.append('<div id="ajax-modal"><button class="ajax-modal-close" data-dismiss="ajax-modal"></button><div class="ajax-modal-inner"></div></div><div id="ajax-tmp"></div>');var c=$("#ajax-modal"),d=c.children(".ajax-modal-close"),e=c.children(".ajax-modal-inner"),f=$("#ajax-tmp");$body.delegate('*[data-toggle="ajax-modal"]',"click",function(){return a($(this).attr("href")+" #content"),!1}),c.delegate('*[data-dismiss="ajax-modal"]',"click",function(){return b(),!1})},accordion:function(){pageScrolling&&$(".collapse").on("shown.bs.collapse hidden.bs.collapse",function(){Waypoint.refreshAll()})},calendar:function(){$calendar.length&&(defaultCalendarView="month",$(window).width()<991&&(defaultCalendarView="agendaDay"),$calendar.fullCalendar({header:{left:"title",right:"month,agendaWeek,agendaDay"},views:{agenda:{minTime:"07:00:00",maxTime:"21:00:00"}},eventLimit:!0,navLinks:!0,aspectRatio:2,defaultView:defaultCalendarView,googleCalendarApiKey:"AIzaSyBRMEkSrFLFkLKHyLVwT0DLLTqcUhUUZdM",eventSources:[{googleCalendarId:"480uf03upv9p68q3h755gph2mo@group.calendar.google.com"},{googleCalendarId:"71ev00p89bpntfca1crkukmfa0@group.calendar.google.com",className:"primary"}],dayClick:function(a,b,c,d){$calendar.fullCalendar("gotoDate",a.format()),$calendar.fullCalendar("changeView","agendaDay")},eventClick:function(a,b,c){$calendar.fullCalendar("gotoDate",a.start.format()),$calendar.fullCalendar("changeView","agendaDay")}}),$(".btn-calendar-nav").on("click",function(){var a=$calendar.fullCalendar("getView").type,b="30.00:00:00";return"agendaWeek"==a?b="7.00:00:00":"agendaDay"==a&&(b="1.00:00:00"),$(this).hasClass("prev")?$calendar.fullCalendar("incrementDate","-"+b):$(this).hasClass("next")&&$calendar.fullCalendar("incrementDate",b),!1}))},carousel:function(a){$(".carousel",a).slick();var b=$(".section-bgs",a),c=$(".section-slides",a);b.slick({infinite:!0,speed:500,fade:!0,cssEase:"linear",dots:!1,arrows:!1,asNavFor:$(".section-slides")}),c.slick({infinite:!0,speed:500,asNavFor:$(".section-bgs"),dots:!0,arrows:!0}),c.on("beforeChange",function(a,b,c,d){var e=$(this).parents(".section");$(this).find(".slide").eq(d+1).hasClass("dark")?e.addClass("dark"):e.removeClass("dark")})},chart:function(a){var b=$(".chart",a);b.length&&b.each(function(){var a=$(this),b=$(this).data("percent");a.attr("data-percent",0),a.easyPieChart({barColor:a.data("bar-color"),trackColor:a.data("track-color"),scaleColor:!1,size:150,lineWidth:4,onStep:function(a,b,c){$(this.el).find(".percent").text(Math.round(c))},onStop:function(){pageSliding&&$.fn.fullpage.reBuild()}}),a.appear(function(){$(this).data("easyPieChart").update(b)})})},forms:function(){$body.append('<div id="notification-bar"></div>');var a=$("#notification-bar"),b=($("#notification-bar").find(".close"),function(b,c){a.html("<div class="+b+">"+c+'<a href="#" class="close"></a></div>'),setTimeout(function(){a.addClass("visible")},400),setTimeout(function(){a.removeClass("visible")},1e4)});$body.delegate("#notification-bar .close","click",function(){return a.removeClass("visible"),!1}),$("[data-validate]").each(function(){$(this).validate({validClass:"valid",errorClass:"error",onfocusout:function(a,b){$(a).valid()},errorPlacement:function(a,b){return!0},rules:{email:{required:!0,email:!0}}})});var c=$(".contact-form");c.length>0&&c.submit(function(){var a=$(this).find(".btn-submit"),c=$(this),d=$(this).data("message-success"),e=$(this).data("message-error");return!!c.valid()&&(a.addClass("loading"),$.ajax({type:"POST",url:"assets/php/contact-form.php",data:c.serialize(),error:function(b){setTimeout(function(){a.addClass("error")},1200)},success:function(a){"success"!=a?b("error",e):b("success",d)},complete:function(b){setTimeout(function(){a.removeClass("loading")},1e3)}}),!1)});var d=$("#contact-form-suelo");d.length>0&&d.submit(function(){var a=$(this).find(".btn-submit"),c=$(this),d=$(this).data("message-success"),e=$(this).data("message-error");return!!c.valid()&&(a.addClass("loading"),$.ajax({type:"POST",url:"assets/php/contact-form-suelo.php",data:c.serialize(),error:function(b){setTimeout(function(){a.addClass("error")},1200)},success:function(a){"success"!=a?b("error",e):b("success",d)},complete:function(b){setTimeout(function(){a.removeClass("loading")},1e3)}}),!1)})},map:function(){var $googleMap=$("#google-map");if($googleMap.length)var yourLatitude=$googleMap.data("latitude"),yourLongitude=$googleMap.data("longitude"),pickedStyle=$googleMap.data("style"),wy=[{featureType:"all",elementType:"geometry.fill",stylers:[{weight:"2.00"}]},{featureType:"all",elementType:"geometry.stroke",stylers:[{color:"#9c9c9c"}]},{featureType:"all",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#eeeeee"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#7b7b7b"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#c8d7d4"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#070707"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]}],apple=[{featureType:"landscape.man_made",elementType:"all",stylers:[{color:"#faf5ed"},{lightness:"0"},{gamma:"1"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#bae5a6"}]},{featureType:"road",elementType:"all",stylers:[{weight:"1.00"},{gamma:"1.8"},{saturation:"0"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:"#ffb200"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{lightness:"0"},{gamma:"1"}]},{featureType:"transit.station.airport",elementType:"all",stylers:[{hue:"#b000ff"},{saturation:"23"},{lightness:"-4"},{gamma:"0.80"}]},{featureType:"water",elementType:"all",stylers:[{color:"#a0daf2"}]}],grayscale=[{featureType:"administrative",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",elementType:"all",stylers:[{saturation:-100},{lightness:"50"},{visibility:"simplified"}]},{featureType:"road",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"all",stylers:[{lightness:"30"}]},{featureType:"road.local",elementType:"all",stylers:[{lightness:"40"}]},{featureType:"transit",elementType:"all",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]},{featureType:"water",elementType:"labels",stylers:[{lightness:-25},{saturation:-100}]}],paper=[{featureType:"administrative",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{visibility:"simplified"},{hue:"#0066ff"},{saturation:74},{lightness:100}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"off"},{weight:.6},{saturation:-85},{lightness:61}]},{featureType:"road.highway",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"water",elementType:"all",stylers:[{visibility:"simplified"},{color:"#5f94ff"},{lightness:26},{gamma:5.86}]}],lunar=[{stylers:[{hue:"#ff1a00"},{invert_lightness:!0},{saturation:-100},{lightness:33},{gamma:.5}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#2D333C"}]}],mapMarker=$googleMap.data("marker")?"_"+$googleMap.data("marker"):"_orange",mapOptions={zoom:15,center:{lat:yourLatitude,lng:yourLongitude},mapTypeControl:!1,panControl:!1,zoomControl:!0,scaleControl:!1,streetViewControl:!1,scrollwheel:!1,styles:eval(pickedStyle)},map=new google.maps.Map(document.getElementById("google-map"),mapOptions),myLatLng=new google.maps.LatLng(yourLatitude,yourLongitude),image={url:"assets/img/map-marker"+mapMarker+".png",anchor:new google.maps.Point(19,59)},myLocation=new google.maps.Marker({position:myLatLng,map:map,icon:image})},modal:function(a){$(".modal[data-timeout]",a).each(function(){var a=$(this).data("timeout"),b=$(this);setTimeout(function(){b.modal("show")},a)}),$('[data-toggle="video-modal"]',a).on("click",function(){var a=$(this).data("target"),b=$(this).data("video");return $(a+" iframe").attr("src",b+"?autoplay=1"),$(a).modal("show"),$(a).on("hidden.bs.modal",function(){var b=$(a+" .modal-content");$(a+" iframe").remove(),b.html('<iframe height="500"></iframe>')}),!1})},window:function(){var a=$(".window"),b=$(".window-toggle");if(a.length){var c=Snap(".window-background"),d=c.path("M 0 220 C 620 0, 1300 0, 1920 220 L 1920 1080 L 0 1080 Z");d.transform("t0,1080");(new Snap.Matrix).translate(0,0),b.on("click",function(){var a=$(this),b=$(a.data("target"));b.hasClass("show")?(b.removeClass("visible"),setTimeout(function(){d.stop().animate({path:"M 0 0 C 620 220, 1300 220, 1920 0 L 1920 1080 L 0 1080 Z"},300,mina.linear).animate({transform:"t0,1080"},300,mina.linear,function(){$("body","html").css("overflow","auto"),a.removeClass("active"),d.stop().animate({path:"M 0 0 C 620 0, 1300 0, 1920 0 L 1920 1080 L 0 1080 Z"},1200,mina.elastic,function(){b.removeClass("show"),d.attr({path:"M 0 220 C 620 0, 1300 0, 1920 220 L 1920 1080 L 0 1080 Z"})})})},300)):(b.addClass("show"),a.addClass("active"),$("body","html").css("overflow","hidden"),d.stop().animate({transform:"t0,0"},300,mina.linear,function(){d.stop().animate({path:"M 0 0 C 620 0, 1300 0, 1920 0 L 1920 1080 L 0 1080 Z"},1200,mina.elastic),b.addClass("visible")}))})}},points:function(){$(".point","#content").each(function(){var a=$(this).data("x"),b=$(this).data("y");$(this).css({top:b,left:a})})},contactMap:function(){$('[data-toggle="contact-map"]',"#content").on("change",function(a){var b=$(this),c=b.parents(".section-contact");c.find(".section-contact-content");c.toggleClass("map-visible")})}}};$(document).ready(function(){Core.init()}),$(window).on("load",function(){$pageLoader.fadeOut(300,function(){$body.addClass("loaded")})}),$(window).on("resize",function(){pageScrolling&&setTimeout(function(){Waypoint.refreshAll()},300),pageScrolling&&Core.Basic.footer(),$calendar.length&&($(window).width()<991?(defaultCalendarView="agendaDay",$calendar.fullCalendar("changeView",defaultCalendarView)):(defaultCalendarView="month",$calendar.fullCalendar("changeView",defaultCalendarView)))}),$(document).on("click",function(){Core.Basic.Navigation.hideNav()})}(jQuery);